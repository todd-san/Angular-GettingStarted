<!-- BEGIN MENUBAR-->
<div id="menubar" class="menubar-inverse" style="width: 25%;">
  <div class="menubar-fixed-panel">
    <div class="expanded">
    </div>
  </div>

  <div class="menubar-scroll-panel">
  <!--<div>-->
    <ul id="main-menu" class="gui-controls" style="margin-bottom: -15px;">
      <li>
        <button class="btn btn-primary-dark ink-reaction" style="width: 100%">
            <span class="primary-menu-label">
              <i class="fa fa-home"></i>
              Home
            </span>
        </button>
      </li>
      <li>
          <button class="btn btn-primary-dark ink-reaction" style="width: 100%" (click)="toggleTools()">
            <span class="primary-menu-label">
              <i class="fa fa-wrench"></i>
              Tools
            </span>
          </button>
      </li>
      <div *ngIf="showTools">
        <ul id="tool-menu" class="gui-controls" style="margin-top: -15px;">
          <li style="margin: 0">
            <button class="btn btn-default-bright ink-reaction" style="width: 100%">
              <span class="tool-title">
                <i class="fa fa-gear fa-lg pull-left" style="margin-left: 15px;"></i>
                Air Perm Calculator
              </span>
            </button>
          </li>
          <li style="margin: 0">
            <button class="btn btn-default-bright ink-reaction" style="width: 100%">
              <span class="tool-title" >
                <i class="fa fa-gear fa-lg pull-left" style="margin-left: 15px;"></i>
                Safety-Factor Calculator
              </span>
            </button>
          </li>
        </ul>
      </div>

      <li>
          <button class="btn btn-primary-dark ink-reaction" style="width: 100%" (click)="toggleProjects()">
            <span class="primary-menu-label">
              <i class="fa fa-folder"></i> Projects</span>
          </button>
      </li>

    </ul>

    <!--<div style="text-align: center; margin-bottom: -15px; font-size: 22px; color: #ff0000" class="menu-label title">Projects</div>-->
    <!--<div style="text-align: center" style="height: 35px;">-->
      <!--<div class="col-xs-5">-->
        <!--<button *ngIf="page.double_prev" class="btn btn-icon-toggle ink-reaction" (click)="fetchMenuItems(1)">-->
          <!--<i style="color: #aa0000" class="fa fa-angle-double-left fa-2x"></i></button>-->
        <!--<button *ngIf="page.prev" class="btn btn-icon-toggle ink-reaction" (click)="fetchMenuItems(page.page -1)">-->
          <!--<i style="color: #ff0000" class="fa fa-angle-left fa-2x"></i></button>-->
      <!--</div>-->
      <!--<div class="col-xs-2">-->
         <!--<span *ngIf="paginationHeaders.xTotalPages > 1" class="btn btn-icon-toggle" style="color: #ffffff; font-size: 20px;">{{page.page}}</span>-->
      <!--</div>-->
      <!--<div class="col-xs-5">-->
        <!--<button *ngIf="page.next" class="btn btn-icon-toggle ink-reaction" (click)="fetchMenuItems(page.page +1)">-->
          <!--<i style="color: #ff0000" class="fa fa-angle-right fa-2x"></i></button>-->
        <!--<button *ngIf="page.double_next" class="btn btn-icon-toggle ink-reaction" (click)="fetchMenuItems(paginationHeaders.xTotalPages)">-->
          <!--<i style="color: #aa0000" class="fa fa-angle-double-right fa-2x"></i></button>-->
      <!--</div>-->
    <!--</div>-->

    <div *ngIf="showProjects">
      <ul id="project-menu" class="gui-controls" style="margin-bottom: -15px;">
        <li style="margin: 0">
          <button class="btn btn-default-bright ink-reaction" style="width: 50%" (click)="toggleFilter()">
            <span class="tool-title">
              Filter
            </span>
          </button>
          <button class="btn btn-primary-light ink-reaction" style="width: 25%" (click)="toggleFilter()">
            <span class="tool-title">
              <i class="fa fa-filter fa-lg"></i>
            </span>
          </button>
          <button class="btn btn-accent-light ink-reaction" style="width: 25%" (click)="toggleFilter()">
            <span class="tool-title">
              <i class="fa fa-close fa-lg"></i>
            </span>
          </button>
        </li>
        <li style="margin-top: 0">
          <button class="btn btn-default-dark ink-reaction" style="width: 20%">
              <span class="title menu-label">
                <i class="fa fa-angle-double-left fa-lg"></i>
              </span>
          </button>
            <button class="btn btn-default-dark ink-reaction" style="width: 20%">
              <span class="title menu-label">
                <i class="fa fa-angle-left fa-lg"></i>
              </span>
          </button>
            <button class="btn btn-default-dark ink-reaction" style="width: 20%">
              <span class="title menu-label">
                1
              </span>
          </button>
            <button class="btn btn-default-dark ink-reaction" style="width: 20%">
              <span class="title menu-label">
                <i class="fa fa-angle-right fa-lg"></i>
              </span>
          </button>
            <button class="btn btn-default-dark ink-reaction" style="width: 20%">
              <span class="title menu-label">
                <i class="fa fa-angle-double-right fa-lg"></i>
              </span>
          </button>
        </li>
      </ul>
    </div>

    <div class="menubar-scroll-panel" *ngIf="showProjects">
    <mat-tree [dataSource]="nestedDataSource" [treeControl]="nestedTreeControl" class="example-tree">
      <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle>
        <li class="mat-tree-node" style="margin-left: 35px;">
          <a disabled><i class="fa fa-circle-o fa-2x"></i></a>
          <span class="title menu-label"  [contextMenu]="kontextMenu" [contextMenuSubject]="node">{{node.name}}</span>
        </li>
      </mat-tree-node>
    <!---->
      <mat-nested-tree-node *matTreeNodeDef="let node; when: hasNestedChild">
        <li>
          <div class="mat-tree-node" style="margin-left: 35px;">
            <a  matTreeNodeToggle
                    [attr.aria-label]="'toggle ' + node.filename">
              <i *ngIf="nestedTreeControl.isExpanded(node)" class="fa fa-angle-down fa-2x"></i>
              <i *ngIf="!nestedTreeControl.isExpanded(node)" class="fa fa-angle-right fa-2x"></i>
              <span class="title menu-label"
                    [contextMenu]="kontextMenu"
                    [contextMenuSubject]="node"
                    *ngIf="nestedTreeControl.isExpanded(node)" style="color: #a20036; font-weight: bold;">{{node.name}}</span>
              <span class="title menu-label"
                    [contextMenu]="kontextMenu"
                    [contextMenuSubject]="node"
                    *ngIf="!nestedTreeControl.isExpanded(node)" style="color: #d1d1d1;">{{node.name}}</span>

            </a>
          </div>
          <ul [class.example-tree-invisible]="!nestedTreeControl.isExpanded(node)">
            <ng-container matTreeNodeOutlet></ng-container>
          </ul>
        </li>
      </mat-nested-tree-node>
    </mat-tree>
    <hr class="style-one">
    </div>

    <!--CONTEXT MENUS -->
    <context-menu #kontextMenu>
          <ng-template contextMenuItem
                       [visible]="true"
                       [enabled]="true"
                       (execute)="showMessage('Expanding Project', $event.item)">
            <i class="fa fa-expand">&nbsp;</i> Expand
          </ng-template>
          <ng-template contextMenuItem [divider]="true"></ng-template>
          <ng-template contextMenuItem
                       [visible]="true"
                       [enabled]="true"
                       (execute)="showMessage('Edit', $event.item)">
            <i class="fa fa-edit">&nbsp;</i> Edit
          </ng-template>
          <ng-template contextMenuItem
                       [visible]="true"
                       [enabled]="true"
                       (execute)="showMessage('Delete', $event.item)">
            <i class="fa fa-trash">&nbsp;</i> Delete
          </ng-template>
          <ng-template contextMenuItem
                       [visible]="true"
                       [enabled]="true"
                       (execute)="showMessage('Copy', $event.item)">
            <i class="fa fa-copy">&nbsp;</i> Copy
          </ng-template>
          <ng-template contextMenuItem [divider]="true"></ng-template>
          <ng-template contextMenuItem
                       [visible]="true"
                       [enabled]="true"
                       (execute)="showMessage('Create', $event.item)">
            <i class="fa fa-plus">&nbsp;</i> Create
          </ng-template>
        </context-menu>
  </div><!--end .menubar-scroll-panel-->
</div><!--end #menubar-->
<!-- END MENUBAR -->
